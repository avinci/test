resources:
# DEPLOY INFRA CODE

# PEM key for AWS demo account
  - name: aws-demo-pem
    type: integration
    integration: avi-demo-pem

# CREDS for AWS demo account
  - name: aws-demo-creds
    type: integration
    integration: avi-ecs

# REPO of AWS demo Infra
  - name: demo-infra-repo
    type: gitRepo
    integration: "avinci-gh"
    pointer:
      sourceName: "avinci/demoInfra"
      branch: master

# VISUALIZER PIPELINE CODE

# CREDS for DOCKER HUB
  - name: docker-creds
    type: integration
    integration: avinci-dh

# REPO of VISUALIZER
  - name: dv-repo
    type: gitRepo
    integration: "avinci-gh"
    pointer:
      sourceName: "avinci/dv"
      branch: master

# Docker Image for VISUALIZER
  - name: dv-img
    type: image
    integration: avinci-dh
    pointer:
      sourceName: "avinci/dv"
    seed:
      versionName: "master.7"

# Docker Image Options for VISUALIZER
  - name: dv-img-opts
    type: dockerOptions
    version:
      memory: 64
      cpuShares: 256
      portMappings:
        - 80:80

# env vars for VISUALIZER
  - name: dv-params
    type: params
    version:
      params:
        MONGO_API_URL: "https://api.mlab.com/api/1/databases/ayeaye/collections/boxes?apiKey=9hYmSC1dYH1CBu2PjBB5Vi5ff6OJyD9x"
        #secure: HQnPf+sjQoizngxyZCtL0Ei74MF6BnkCN1xkWozOyZve1Z0o+hVsJD3JF1ALC7O0A0couXElWej29CJyeaUCnRZu4X3Xm1hMowAtt/E5nFSNdn3LlUPqUrUzvap22H/uJM4Vi5qwjn6InGEAO5L6hXO1une19mgV7LoYG49DvNYYPxLAJ11Syg8kNznGekKn7nimsCM7f5HzKVx3HZyUCFFzdqvl5IHzjvv6mdvrRNgPCO3jMhKTxaLhvvCQKG/EHGyQT+UY0WFZO5D1oCWD7PGv6fXUDSQZNjj6cL6vU+xSPfZCxj3ZL6jvYx1cDU6wSSb9Q6ad7tJYutMDb18aEw==  #MONGO_API_URL

# TEST AWS cluster
  - name: env-test-aws
    type: cluster
    integration: avi-ecs
    pointer:
      sourceName : "test-aws"
      region: "us-east-1"

# BOX PIPELINE CODE

# REPO of BOX code
  - name: box-repo
    type: gitRepo
    integration: "avinci-gh"
    pointer:
      sourceName: avinci/box
      branch: master

# Docker Image for BOX
  - name: box-img
    type: image
    integration: avinci-dh
    pointer:
      sourceName: "avinci/box"
    seed:
      versionName: "master.5"

# TEST env vars for BOX
  - name: box-t-params
    type: params
    version:
      params:
        DB_HOST: "ds015700.mlab.com"
        DB_NAME: "ayeaye"
        DB_PORT: "15700"
        DB_USERNAME: "ayeaye"
        #DB_PASSWORD: "ayeaye"
        ENVIRONMENT: "test-aws"
        #secure: UZtHnLlUEMQw4qJdFu5f9D0TaYv1pYT1aMjeph8CqQh4WOHO2diF72ZNzR3pTs73hW5KRsMTas1Cwkkgv6HGY9fCgFPApzxyXQ0GlBH9EkitcdhtAs993K/OF/wDMSUfqdTHkGIlGuXexEu35rNnk76xLIuymdxhajD/7Jda6tQJRYD+cSlfdiO0HzTWO/M/z0PZTioACzAicTWhbhzHm3Td+ApbP6R9J4Sz6izi66vhjUSm887XjWImr1LHEPzHxTJbTxPSAmysoP5AO9U/pzu2izI33SBTq64An+eCVmSe5F5EKa2UPr1M/HNN+j8KX1/6hCYLwmg9Zw5doOf0FA== #DB_PASSWORD
        secure: rI62jh+LuVN5ArirEWv4dhfWw8Fv4j8Ptk5ksLTKyp78+nbYV//ViSDdQy+LDCfVCJbaXCXj0LAvN61BQFn0fM3RjRw/IPYnBaG+reYmaZ47Kfbw+02yGTI77Mglo/AM3Q43wz6bcBiHqeSqmvvSEPjfFL9zHLqU44cljW0NDlf0z9T/WcQeG2R8byfSpR95/9iAJz5GTEMS9FQlmg85Q7cIA1G6WpTpV04R0PHSKnjI8iFJqja68NGlkdCihxLFQAAYiYXY6rrN0AMXIL37GtSksBkY+tCnJ0HfB4db7go2n5IGL+hIug2C/4yh4R7RIFEz+mBbO7/nTo0FZ++rkQ==

# Docker Image Options for BOX
  - name: box-img-opts
    type: dockerOptions
    version:
      memory: 64
      cpuShares: 512

# box version seed
  - name: box-ver
    type: version
    seed:
      versionName: "0.1.0"
